XCreate CP单元 版本1.9.7 更新日志

1 导出凭证前进行舍入处理
时间：7月11日
处理：与业务沟通后形成《0628 问题20 舍位v2》文档和对应数据供业务验证，业务验证后根据文档内容调整
影响：《集团程序测试问题20240626-20240627-0629沟通后-0701回复》文档中 问题20 最终的凭证结果

2 当期库存商品收发存表中本期出库行算法调整
时间：7月18日
处理：根据测试文档内容将算法调整为将本期出库行数量和金额调整为“将匹配到的行的I列和（K列+M列）的值”合计后放入本表的I列和J列
影响：《集团软件中库存出入库数据测试-20240716-0717答复》文档中 2、本期出库数量与金额不对

3 修复 BUG-CP0008 打包软件在环境差异情况下BUG造成开发环境生成的二进制文件在测试环境执行效果不同
时间：7月22日
原因：第三方打包软件在开发环境打包服务器(Debian GNU/Linux 10 (buster), Docker version 20.10.11, build dea9396)环境下特定源代码编译存在兼容性bug，
导致生成的二进制文件在测试环境所在云服务器(Debian GNU/Linux 11 (bullseye), Docker version 26.1.0, build 9714adc)环境下执行时存在差异。
处理：生成docker容器时进行特殊处理
影响：《集团软件中库存出入库数据测试-20240716-0717答复》文档中 1、【生产物料-当期收发存结果表】中“库存商品”科目本期生产入库的金额，与相同户号科目为“自制半成品”的本期出库金额不相等

4 去除人员工资计算相关接口
内容：将所有人员工资计算相关接口去除。
接口：
tpl_para_staff 弃用 获取项目人员名单表模板
imp_para_staff 弃用 导入项目人员名单表
tpl_para_staff_salary 弃用 获取工资社保表模板
imp_para_staff_salary 弃用 导入工资社保表
tpl_para_staff_manhour 弃用 导出人员工时设置表模版
imp_para_staff_manhour 弃用 导入人员工时设置表
get_para_staff_manhour_detail 弃用 处理和获取人员工时设置明细表
tpl_para_dept_celement 弃用 导出人员单位与成本要素对照表模版
imp_para_dept_celement 弃用 导入人员单位与成本要素对照表
tpl_para_ctype_raccount 弃用 导出费用类型与研发科目对照表模版
imp_para_ctype_raccount 弃用 导入费用类型与研发科目对照表
tpl_para_ctype_raccount 弃用 导出费用类型与研发科目对照模版
imp_para_ctype_raccount 弃用 导入费用类型与研发科目对照
get_manhou_detail 弃用 处理和获取工时明细表
get_salary_staff 弃用 处理和获取研发人员人工分配表
get_salary_project 弃用 处理和获取研发工资汇总表改名并移动至此处接口
等 16 个接口。
时间：7月27日
处理：删除

5 修改 init_data(初始化或重新初始化数据) 接口
内容：将接口中根据会计帐期改变时同时重置工作日的处理去除。
时间：7月27日
处理：修改init_data接口，删除依赖的reset_workday函数

6 研发投入核算（原研发分配核算）业务环节新增定制拆分后凭证相关接口
时间：7月28日
接口：
exp_voucher_splitted 新增 导出当前拆分后凭证
imp_voucher_splitted 新增 导入拆分后凭证
处理：根据业务提供《工资模块说明2》等文档，考虑未来通用性和可扩展性，新增可以将整个拆分后凭证导出导入的接口，
这样可以实现整个拆分后凭证的可定制化调整，以适应包括工资模块及未来可能新增的如设备等模块的定制化调整需求。
注意: 为适应导出后导入时自动生成唯一行号，原get_voucher_splitted接口提供数据中rowno字段更名为row_no，BP单元请注意查看是否需要同步调整。